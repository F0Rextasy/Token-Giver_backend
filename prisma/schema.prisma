generator client {
  provider = "prisma-client-js"
  // output   = "./generated"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URI")
}

model UserTelegramData {
  id                    String  @id @default(cuid())
  isLive                Boolean @default(false) @map("is_live")
  isRtl                 Boolean @default(false) @map("is_rtl")
  isPremium             Boolean @default(false) @map("is_premium")
  isBot                 Boolean @default(false) @map("is_bot")
  firstName             String  @map("first_name")
  lastName              String? @map("last_name")
  username              String?
  languageCode          String  @map("language_code")
  photoUrl              String? @map("photo_url")
  addedToAttachmentMenu Boolean @default(false) @map("added_to_attachment_menu")
  allowsWriteToPm       Boolean @default(false) @map("allows_write_to_pm")

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  user   User   @relation(fields: [userId], references: [id])
  userId String @unique @map("user_id")

  @@map("user_telegram_data")
}

model User {
  id         String  @id @default(cuid())
  telegramId String  @unique @map("telegram_id")
  tonWallet  String  @unique @map("ton_wallet")
  isVerified Boolean @default(false) @map("is_verified")
  coins      Float   @default(0)
  gems       Float   @default(0)

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  telegramMetaData UserTelegramData?
  language         Language          @relation(fields: [languageId], references: [id])
  languageId       Int               @map("language_id")

  @@map("users")
}

model Language {
  id         Int    @id @default(autoincrement())
  name       String
  nativeName String @map("native_name")
  iso6391    String @unique @map("iso_639_1")
  iso6392    String @unique @map("iso_639_2")
  iso6393    String @unique @map("iso_639_3")

  users User[]

  @@map("language")
}
